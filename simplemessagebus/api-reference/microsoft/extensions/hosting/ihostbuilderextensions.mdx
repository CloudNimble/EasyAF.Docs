---
title: "IHostBuilderExtensions"
description: "A set of <xref href=\"Microsoft."
icon: "cube"
---

# IHostBuilderExtensions

<Badge variant="outline">Class</Badge>

A set of <xref href="Microsoft.Extensions.Hosting.IHostBuilder" data-throw-if-not-resolved="false"></xref> extension methods that make it easy to register SimpleMessageBus with a DI container.

## Syntax

```csharp
public static class IHostBuilderExtensions
```

## Inheritance

- [object](https://learn.microsoft.com/dotnet/api/system.object)

## Methods

### UseAzureStorageQueueProcessor

```csharp
public static IHostBuilder UseAzureStorageQueueProcessor(this IHostBuilder builder, Action<AzureStorageQueueOptions> azureQueueOptions)
```

Configures SimpleMessageBus to use Azure Storage Queues as the backing queue and registers the <xref href="CloudNimble.SimpleMessageBus.Dispatch.AzureStorageQueueProcessor" data-throw-if-not-resolved="false"></xref> with the DI container.

#### Parameters

- **builder** [IHostBuilder](https://learn.microsoft.com/dotnet/api/microsoft.extensions.hosting.ihostbuilder): The <xref href="Microsoft.Extensions.Hosting.IHostBuilder" data-throw-if-not-resolved="false"></xref> instance to extend.
- **azureQueueOptions** [Action&lt;AzureStorageQueueOptions&gt;](https://learn.microsoft.com/dotnet/api/system.action-1): An <xref href="System.Action%601" data-throw-if-not-resolved="false"></xref> that gives you a fluent interface for configuring the options for a queue backed by Azure Queue Storage.

#### Returns

[IHostBuilder](https://learn.microsoft.com/dotnet/api/microsoft.extensions.hosting.ihostbuilder)

The <xref href="Microsoft.Extensions.Hosting.IHostBuilder" data-throw-if-not-resolved="false"></xref> instance being configured, for fluent interaction.

### UseAzureStorageQueueProcessor

```csharp
public static IHostBuilder UseAzureStorageQueueProcessor(this IHostBuilder builder)
```

Configures SimpleMessageBus to use Azure Storage Queues as the backing queue and registers the <xref href="CloudNimble.SimpleMessageBus.Dispatch.AzureStorageQueueProcessor" data-throw-if-not-resolved="false"></xref> with the DI container.

#### Parameters

- **builder** [IHostBuilder](https://learn.microsoft.com/dotnet/api/microsoft.extensions.hosting.ihostbuilder): The <xref href="Microsoft.Extensions.Hosting.IHostBuilder" data-throw-if-not-resolved="false"></xref> instance to extend.

#### Returns

[IHostBuilder](https://learn.microsoft.com/dotnet/api/microsoft.extensions.hosting.ihostbuilder)

The <xref href="Microsoft.Extensions.Hosting.IHostBuilder" data-throw-if-not-resolved="false"></xref> instance being configured, for fluent interaction.

### UseOrderedMessageDispatcher

```csharp
public static IHostBuilder UseOrderedMessageDispatcher(this IHostBuilder builder)
```

Configures SimpleMessageBus to use the <xref href="CloudNimble.SimpleMessageBus.Dispatch.OrderedMessageDispatcher" data-throw-if-not-resolved="false"></xref>, which processes registered <xref href="CloudNimble.SimpleMessageBus.Core.IMessageHandler?text=IMessageHandlers" data-throw-if-not-resolved="false"></xref> in series based on
the order they were registered in the DI container.

#### Parameters

- **builder** [IHostBuilder](https://learn.microsoft.com/dotnet/api/microsoft.extensions.hosting.ihostbuilder): The <xref href="Microsoft.Extensions.Hosting.IHostBuilder" data-throw-if-not-resolved="false"></xref> instance to extend.

#### Returns

[IHostBuilder](https://learn.microsoft.com/dotnet/api/microsoft.extensions.hosting.ihostbuilder)

The <xref href="Microsoft.Extensions.Hosting.IHostBuilder" data-throw-if-not-resolved="false"></xref> instance being configured, for fluent interaction.

### UseParallelMessageDispatcher

```csharp
public static IHostBuilder UseParallelMessageDispatcher(this IHostBuilder builder)
```

Configures SimpleMessageBus to use the <xref href="CloudNimble.SimpleMessageBus.Dispatch.ParallelMessageDispatcher" data-throw-if-not-resolved="false"></xref>, which processes registered <xref href="CloudNimble.SimpleMessageBus.Core.IMessageHandler?text=IMessageHandlers" data-throw-if-not-resolved="false"></xref> in parallel
regardless of the order the order they were registered in the DI container.

#### Parameters

- **builder** [IHostBuilder](https://learn.microsoft.com/dotnet/api/microsoft.extensions.hosting.ihostbuilder): The <xref href="Microsoft.Extensions.Hosting.IHostBuilder" data-throw-if-not-resolved="false"></xref> instance to extend.

#### Returns

[IHostBuilder](https://learn.microsoft.com/dotnet/api/microsoft.extensions.hosting.ihostbuilder)

The <xref href="Microsoft.Extensions.Hosting.IHostBuilder" data-throw-if-not-resolved="false"></xref> instance being configured, for fluent interaction.


